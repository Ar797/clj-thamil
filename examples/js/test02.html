<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <script charset="utf-8" type="text/javascript" src="js/goog/base.js"></script>
    <script charset="utf-8" type="text/javascript" src="js/clj-thamil.js"></script>

    <script charset="utf-8" type="text/javascript" src="js/clojure/string.js"></script>
    <script charset="utf-8" type="text/javascript" src="js/cljs/core.js"></script>

    <script charset="utf-8" type="text/javascript" src="js/clj_thamil/core.js"></script>
    <script charset="utf-8" type="text/javascript" src="js/clojure/set.js"></script>
    <script charset="utf-8" type="text/javascript" src="js/clj_thamil/format.js"></script>
    <script charset="utf-8" type="text/javascript" src="js/clj_thamil/format/convert.js"></script>
    <script charset="utf-8" type="text/javascript" src="js/clj_thamil/js/api/convert.js"></script>

    <script type="text/javascript">
    function insertText(name, text) { var elem = document.getElementById(name); elem.value += text; }
    function setText(name, text) { var elem = document.getElementById(name); elem.value = text; }
    function clearContents(element) { element.value = ''; }
    </script>

    <table border="0">
      <tr>
        <th>English transliterated input</th>
        <th>தமிழ் output</th>
      </tr>
      <tr>
        <td>
          <textarea rows="10" cols="50" id="english">Type here... </textarea>
        </td>
        <td>
          <textarea rows="10" cols="50" id="thamil" readonly>Output comes here automatically </textarea>
        </td>
      </tr>
      <tr>
        <td> 
        </td>
        <td>
          <textarea rows="10" cols="50" id="letters" readonly>Output split by letters</textarea>
        </td>
      </tr>
    </table>

    <script type="text/javascript">
    </script>

    <script type="text/javascript">
      var e_elem = document.getElementById("english");
      var t_elem = document.getElementById("thamil");
      var l_elem = document.getElementById("letters");

      var transliterate = function() {
        var e_txt = e_elem.value;
        var t_txt = clj_thamil.js.api.convert.romanized_to_thamil(e_txt);
        t_elem.value = t_txt;
      }


      var split_by_letter = function() {
        var e_txt = e_elem.value;
        var t_txt = clj_thamil.js.api.convert.romanized_to_thamil(e_txt);
        var letters = clj_thamil.format.str__GT_elems(t_txt);
        var l_txt = clojure.string.join(" ", letters);
        l_elem.value = l_txt;    
      }

    
      var txt_onchange = function() {
        transliterate();
        split_by_letter();
      }

    
      e_elem.onkeyup = txt_onchange;
      e_elem.onblur = txt_onchange;
      t_elem.onkeyup = txt_onchange;
      t_elem.onblur = txt_onchange;
    
    </script>

  </body>
</html>
